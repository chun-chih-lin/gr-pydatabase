id: pydatabase_mac
label: WiFi MAC
category: '[pydatabase]'

templates:
  imports: import pydatabase
  make: pydatabase.mac(${src_mac}, ${dst_mac}, ${bss_mac})

#  Make one 'parameters' list entry for every parameter you want settable from the GUI.
#     Keys include:
#     * id (makes the value accessible as \$keyname, e.g. in the make entry)
#     * label (label shown in the GUI)
#     * dtype (e.g. int, float, complex, byte, short, xxx_vector, ...)
parameters:
- id: src_mac
  label: SRC MAC
  dtype: int_vector
  default: '[0x23, 0x23, 0x23, 0x23, 0x23, 0x23]'
- id: dst_mac
  label: DST MAC
  dtype: int_vector
  default: '[0x42, 0x42, 0x42, 0x42, 0x42, 0x42]'
- id: bss_mac
  label: BSS MAC
  dtype: int_vector
  default: '[0xff, 0xff, 0xff, 0xff, 0xff, 0xff]'

#  Make one 'inputs' list entry per input and one 'outputs' list entry per output.
#  Keys include:
#      * label (an identifier for the GUI)
#      * domain (optional - stream or message. Default is stream)
#      * dtype (e.g. int, float, complex, byte, short, xxx_vector, ...)
#      * vlen (optional - data stream vector length. Default is 1)
#      * optional (optional - set to 1 for optional inputs. Default is 0)
inputs:
- label: app in
  domain: message
  optional: true
- label: phy in
  domain: message
  optional: true

outputs:
- label: app out
  domain: message
  optional: true
- label: phy out
  domain: message
  optional: true

asserts:
- ${ len(src_mac) == 6 }
- ${ len(dst_mac) == 6 }
- ${ len(bss_mac) == 6 }
- ${ all([x >= 0 and 255 >= x for x in src_mac]) }
- ${ all([x >= 0 and 255 >= x for x in dst_mac]) }
- ${ all([x >= 0 and 255 >= x for x in bss_mac]) }

#  'file_format' specifies the version of the GRC yml format used in the file
#  and should usually not be changed.
file_format: 1
